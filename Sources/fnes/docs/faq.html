<html>
  <head>
    <title>FakeNES FAQ</title>
    <style type="text/css">
      a {
         color: red;
         text-decoration: underline;
      }
      a:hover {
         text-decoration: none;
      }
      body {
         background-color: silver;
         color: black;
         padding: 1em;
         text-align: center;
      }
      div, td, th {
         font-family: arial, verdana;
         font-size: 10pt;
         line-height: 125%;
      }
      h1, h2, td, div.centered {
         text-align: center;
      }
      table {
         width: 100%;
      }
      div.content {
         background-color: white;
         border: 1px solid black;
         border-bottom: 4px solid black;
         border-right: 4px solid black;
         margin-left: auto;
         margin-right: auto;
         padding: 0.5em;
         text-align: left;
         width: 720px;
      }
    </style>
  </head>
  <body>
    <div class="content">
    <div><h1>FakeNES</h1></div>
    <div><h2>Frequently Asked Questions (FAQ)</h2></div>
    <div>&nbsp;</div>
    <div><h3>Contents</h3></div>
    <div>
      <ul>
        <li>
          <b>Audio</b>
          <ul>
            <li><a href="#audio_virtual_stereo">What is Virtual Stereo?</a></li>
            <li><a href="#audio_interpolation">How do I use Interpolation?</a></li>
          </ul>
        </li>
        <li>
          <b>Video</b>
          <ul>
            <li><a href="#video_custom_palette">How do I use a custom palette?</a></li>
          </ul>
        </li>
        <li>
          <b>Miscellaneous</b>
          <ul>
            <li><a href="#misc_config_file">Where is my configuration file?</a></li>
            <li><a href="#misc_cheat_codes">What kind of cheat codes are supported?</a></li>
            <li><a href="#misc_fast_forward_rewind">How do fast forward or rewind the game?</a></li>
            <li><a href="#misc_custom_font">How do I use a custom font?</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <div>&nbsp;</div>
    <div><h3>Audio</h3></div>
    <!-- Virtual Stereo. -->
    <a name="audio_virtual_stereo"></a>
    <div><h4>What is <i>Virtual Stereo</i>?</h4></div>
    <div>
      Virtual Stereo (formerly known as <i>Pseudo Stereo</i>) is a part of
      the FakeNES DSP (Digital Sound Processor) code that allows stereo
      sound to be produced from a machine (the NES) that was not originally
      capable of stereo sound without user modification of the hardware.
    </div>
    <div>&nbsp;</div>
    <div>The following stereo modes are available:</div>
    <div>&nbsp;</div>
    <div>
      <table border="1">
        <tr><th colspan="9">Mode 1</th></tr>
        <tr>
          <th>Square wave A</th>
          <th>Square wave B</th>
          <th>Triangle wave</th>
          <th>White noise</th>
          <th>Digital</th>
          <th>Extended 1</th>
          <th>Extended 2</th>
          <th>Extended 3</th>
        </tr>
        <tr>
          <td>Left</td>
          <td>Right</td>
          <td>Left</td>
          <td>Right</td>
          <td>Center</td>
          <td>Left</td>
          <td>Right</td>
          <td>Center</td>
        </tr>
        <tr><th colspan="9">Mode 2 <i>(Default)</i></th></tr>
        <tr>
          <td>Left</td>
          <td>Right</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>50% Left</td>
          <td>50% Right</td>
          <td>Center</td>
        </tr>
        <tr><th colspan="9">Mode 3</th></tr>
        <tr><td colspan="9">This mode is possible on a real NES with modification, so it is simply called "Stereo".</td></tr>
        <tr>
          <td>Left</td>
          <td>Left</td>
          <td>Right</td>
          <td>Right</td>
          <td>Right</td>
          <td>Center(?)</td>
          <td>Center(?)</td>
          <td>Center(?)</td>
        </tr>
        <tr><th colspan="9">Mode 4</th></tr>
        <tr><td colspan="9">This is a dummy mode to allow stereo filters on mono output, so it is called "Stereo Mix".</td></tr>
        <tr>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
          <td>Center</td>
        </tr>
      </table>
      <div>&nbsp;</div>
    </div>
    <!-- Interpolation. -->
    <a name="audio_interpolation"></a>
    <div><h4>How do I use <i>Interpolation</i>?</h4></div>
    <div>
      Edit your configuration file and set your audio sampling rate
      (<i>frequency</i>) to a value higher than your sound card's maximum
      (usually 44.1<sup>kHz</sup> or 48<sup>kHz</sup>). &nbsp;Allegro's
      mixer will automatically resample the data to fit into the output
      buffer during playback. &nbsp;However, if the <i>Interpolation</i>
      option is enabled, the data will also be linearly interpolated as it
      is resampled, which can have an anti-aliasing effect (at the cost of
      significant amounts of CPU power and memory bandwidth).
    </div>
    <div>&nbsp;</div>
    <div>Sampling rates are always specified in <sup>Hz</sup>.</div>
    <div>&nbsp;</div>
    <div>The OpenAL driver does not support interpolation.</div>
    <div>&nbsp;</div>
    <div><h3>Video</h3></div>
    <!-- Custom palettes. -->
    <a name="video_custom_palette"></a>
    <div><h4>How do I use a <i>custom palette</i>?</h4></div>
    <div>
      Place your custom palette file in the FakeNES directory as
      <b>fakenes.pal</b> and select <i>Custom</i> from the
      <i>Video->Palette</i> menu.
    </div>
    <div>&nbsp;</div>
    <div>
      The palette file's format is binary, and it is expected to contain no
      less than 64 RGB triplets. &nbsp;Each 24-bit (3 byte) triplet is
      specified as RGB 8:8:8. &nbsp;This is the same format commonly used in
      the past by other emulators such as NESticle.
    </div>
    <div>&nbsp;</div>
    <div>
      Here is what the colors of an NES palette should look like. &nbsp;Image courtesy of
      <a href="http://bobrost.com/">Bob Rost</a>.
    </div>
    <div>&nbsp;</div>
    <div class="centered">
      <img src="NES_Palette.png" alt="[ NES Palette ]" />
    </div>
    <div>&nbsp;</div>
    <div><h3>Miscellaneous</h3></div>
    <!-- Configuration file. -->
    <a name="misc_config_file"></a>
    <div><h4>Where is my <i>configuration file</i>?</h4></div>
    <div>
      <b>fakenes.cfg</b> on DOS, <b>fakenesw.cfg</b> on Windows, and
      <b>~/.fakenes/config</b> on all other platforms (Linux, Mac OS X,
      etc.) unless otherwise specified. &nbsp;It is stored in a plaintext
      format and is easily modified with a text editor.
    </div>
    <div>&nbsp;</div>
    <!-- Cheat Codes. -->
    <a name="misc_cheat_codes"></a>
    <div><h4>What kind of <i>cheat codes</i> are supported?</h4></div>
    <div>
      NES Game Genie cheat codes are fully supported. &nbsp;Raw patches to
      memory can also be applied either by manually creating a <b>.fpt</b>
      (FakeNES patch table) file, or by entering raw NESticle codes, which
      are accepted in several forms.
    </td>
    <div>&nbsp;</div>
    <div>
      <table border="1">
        <tr><th colspan="4">Game Genie</th></tr>
        <tr>
          <th>Digits</th>
          <th>Usage</th>
          <th>Description</th>
          <th>Example</th>
        </tr>
        <tr>
          <td>6</td>
          <td>XXXXXX</td>
          <td><a href="http://www.gamegenie.com/cheats/gamegenie/nes/">GameGenie.com: NES Game Genie Cheats</a>
          <td>AATOZA</td>
        </tr>
        <tr>
          <td>8</td>
          <td>XXXXXXXX</td>
          <td><a href="http://www.gamegenie.com/cheats/gamegenie/nes/">GameGenie.com: NES Game Genie Cheats</a>
          <td>SXNLOKVK</td>
        </tr>
        <tr><th colspan="4">NESticle raw</th></tr>
        <tr>
          <td>7</td>
          <td>XXXX:XX</td>
          <td>Address:New value</td>
          <td>1F4D:6F</td>
        </tr>
        <tr>
          <td>10</td>
          <td>XXXX:XX:XX</td>
          <td>Address:Original value required to apply cheat:New value</td>
          <td>1F4D:37:6F</td>
        </tr>
      </table>
    </div>
    <div>&nbsp;</div>
    <div>
      Patching certain areas (such as zero page memory) may not be supported
      for performance reasons.
    </div>
    <div>&nbsp;</div>
    <!-- Fast forward/rewind. -->
    <a name="misc_fast_forward_rewind"></a>
    <div><h4>How do I <i>fast forward</i> or <i>rewind</i> the game?</h4></div>
    <div>
      You can fast forward through boring or otherwise unimportant areas of
      a game by holding down the tilde (~) key on your keyboard, or the
      localized equivalent key for your region. &nbsp;It is often located
      above the <b>TAB</b> key.
    </div>
    <div>&nbsp;</div>
    <div>
      Note that the speed of the fast forward feature depends both upon the
      setting of <b>frame_skip_max</b> under the <b>[timing]</b> section of
      your configuration file (larger values mean faster core execution),
      and the overall speed of your computer.
    </div>
    <div>&nbsp;</div>
    <div>&nbsp;</div>
    <div>
      You can rewind the game in real-time at any time during gameplay by
      holding down the backslash (\) key on your keyboard, or the localized
      equivalent key for your region. &nbsp;It is often located above the
      <b>ENTER</b> or <b>RETURN</b> key.
    </div>
    <div>&nbsp;</div>
    <div>
      Game rewinder history typically lasts about 10 seconds in NTSC mode,
      and 12 in PAL mode on the default settings. &nbsp;The impact of this
      feature on memory usage is fairly large, so a small amount of
      compression is used to greatly reduce that impact, but can be disabled
      from the configuration file if it causes too much of a speed hit on
      slow machines.
    </div>
    <div>&nbsp;</div>
    <div>
      Likewise, the length of the history can be greatly increased, possibly
      along with an increase in the compression level to allow extensive
      backtracking through a game without using up an excessive amount of
      memory.
    </div>
    <div>&nbsp;</div>
    <div>
      Check your configuration file under the <b>[rewind]</b> section for
      the following configuration options:
    </div>
    <div>&nbsp;</div>
    <div>
      <table border="1" cellpadding="4">
        <tr>
          <th>Key</th>
          <th>Value Minimum</th>
          <th>Value Maximum</th>
          <th>Value Default</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>enabled</td>
          <td>0</td>
          <td>1</td>
          <td>1</td>
          <td style="text-align: left;">
            Whether or not real-time game rewinding is enabled. &nbsp;Disabling
            this sweet feature can give a significant speed boost and reduced
            memory usage.
          </td>
        </tr>
        <tr>
          <td>frame_rate</td>
          <td><i>epsilon</i></td>
          <td>1.0</td>
          <td>0.5</td>
          <td style="text-align: left;">
            Frame rate at which snapshots are saved/loaded. &nbsp;Larger
            values mean smoother backtracking at the cost of memory and a
            more constant speed it.<br />
            <br />
            This should be a fractional value that represents a normalized
            percentage of the current emulation speed (e.g, 0.5 of 50 Hz
            would be 25 FPS, and 1.0 would be 50 FPS).
          </td>
        </tr>
        <tr>
          <td>seconds</td>
          <td>1</td>
          <td>none</td>
          <td>10</td>
          <td style="text-align: left;">
            How long the rewinder can backtrack, in seconds. &nbsp;This will
            actually end up being about 20% longer for PAL (e.g, 10 => 12).
          </td>
        </tr>
        <tr>
          <td>compress</td>
          <td>0</td>
          <td>9</td>
          <td>1</td>
          <td style="text-align: left;">Compression level. &nbsp;Set to 0
          to disable.</td>
        </tr>
      </table>
    </div>
    <div>&nbsp;</div>
    <!-- Custom fonts. -->
    <a name="misc_custom_font"></a>
    <div><h4>How do I use a <i>custom font</i>?</h4></div>
    <div>
      <ol>
        <li>Download <a href="http://www.allegro.cc/misc/ttf2pcx.zip">ttf2pcx</a> <i>(Windows only)</i>.</li>
        <li>Run <b>ttf2pcx</b> and select an appropriate font and size.</li>
        <li>Export the font to a file named <b>font.pcx</b> in your FakeNES directory.</li>
        <li>Open up your FakeNES configuration file in a text editor.</li>
        <li>Add a <b>font = font.pcx</b> line under the <b>[gui]</b> section.</li>
        <li>Save the configuration file and close your text editor.</li>
      </ol>
    </div>
    <div>&nbsp;</div>
    <div>
      Additional formats (such as <a href="http://grx.gnu.de/">GRX</a> and
      BIOS fonts) are also supported. &nbsp;See the
      <a href="http://alleg.sourceforge.net/onlinedocs/en/alleg017.html#load_font">Allegro documentation</a>
      for details.
    </div>
  </body>
</html>
